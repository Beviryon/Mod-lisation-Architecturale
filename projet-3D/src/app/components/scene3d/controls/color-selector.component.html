<div class="color-selector" *ngIf="isVisible">
  <h3>ðŸŽ¨ SÃ©lecteur de Couleurs</h3>
  
  <!-- SÃ©lection d'Ã©lÃ©ment -->
  <div class="element-selection">
    <label for="elementSelect">Ã‰lÃ©ment Ã  modifier :</label>
    <select 
      id="elementSelect"
      [(ngModel)]="selectedElementId" 
      (change)="onElementChange()"
      class="element-select"
    >
      <option value="">-- SÃ©lectionner un Ã©lÃ©ment --</option>
      <option 
        *ngFor="let element of elements" 
        [value]="element.id"
      >
        {{ element.name }} ({{ element.type }})
      </option>
    </select>
  </div>

  <!-- SÃ©lecteur de couleur -->
  <div class="color-picker" *ngIf="selectedElement">
    <h4>{{ selectedElement.name }}</h4>
    
    <div class="current-color">
      <label>Couleur actuelle :</label>
      <div 
        class="color-preview" 
        [style.background-color]="selectedElement.currentColor"
        [title]="selectedElement.currentColor"
      ></div>
      <span class="color-value">{{ selectedElement.currentColor }}</span>
    </div>

    <div class="color-input">
      <label for="colorInput">Nouvelle couleur :</label>
      <input 
        type="color" 
        id="colorInput"
        [(ngModel)]="newColor"
        (input)="onColorChange()"
        class="color-input-field"
        title="SÃ©lectionner une nouvelle couleur"
      >
    </div>

    <!-- Couleurs prÃ©dÃ©finies -->
    <div class="preset-colors">
      <label>Couleurs prÃ©dÃ©finies :</label>
      <div class="color-grid">
        <button 
          *ngFor="let color of presetColors" 
          type="button"
          class="preset-color-btn"
          [style.background-color]="color.value"
          [title]="color.name"
          (click)="selectPresetColor(color.value)"
        >
          <span class="color-name">{{ color.name }}</span>
        </button>
      </div>
    </div>

    <!-- Boutons d'action -->
    <div class="action-buttons">
      <button 
        type="button" 
        (click)="applyColor()" 
        class="btn btn-primary"
        [disabled]="!newColor"
        title="Appliquer la couleur"
      >
        âœ… Appliquer
      </button>
      
      <button 
        type="button" 
        (click)="resetColor()" 
        class="btn btn-secondary"
        title="RÃ©initialiser la couleur"
      >
        ðŸ”„ RÃ©initialiser
      </button>
    </div>
  </div>

  <!-- AperÃ§u des couleurs -->
  <div class="color-preview-section" *ngIf="elements.length > 0">
    <h4>AperÃ§u des couleurs</h4>
    <div class="color-list">
      <div 
        *ngFor="let element of elements" 
        class="color-item"
        [class.selected]="element.id === selectedElementId"
        (click)="selectElement(element.id)"
      >
        <div 
          class="color-swatch" 
          [style.background-color]="element.currentColor"
        ></div>
        <span class="element-name">{{ element.name }}</span>
        <span class="element-type">{{ element.type }}</span>
      </div>
    </div>
  </div>
</div>
