<div class="structure-controller" *ngIf="isVisible">
  <h3>ğŸ—ï¸ ContrÃ´leur de Structure</h3>
  
  <!-- Informations gÃ©nÃ©rales -->
  <div class="structure-info">
    <h4>Informations gÃ©nÃ©rales</h4>
    <div class="info-grid">
      <div class="info-item">
        <label>Nom du bÃ¢timent :</label>
        <input 
          type="text" 
          [(ngModel)]="structure.nom"
          (input)="onStructureChange()"
          class="info-input"
          title="Nom du bÃ¢timent"
          aria-label="Nom du bÃ¢timent"
        >
      </div>
      
      <div class="info-item">
        <label>Type de bÃ¢timent :</label>
        <select 
          [(ngModel)]="structure.type"
          (change)="onStructureChange()"
          class="info-select"
          title="Type de bÃ¢timent"
          aria-label="Type de bÃ¢timent"
        >
          <option value="residentiel">RÃ©sidentiel</option>
          <option value="commercial">Commercial</option>
          <option value="industriel">Industriel</option>
          <option value="public">Public</option>
        </select>
      </div>
    </div>
  </div>

  <!-- Dimensions globales -->
  <div class="dimensions-section">
    <h4>Dimensions globales</h4>
    <div class="dimension-controls">
      <div class="control-group">
        <label>Longueur (m)</label>
        <input 
          type="range" 
          min="5" 
          max="50" 
          step="0.5" 
          [(ngModel)]="structure.dimensions.longueur"
          (input)="onStructureChange()"
          class="control-slider"
          title="Longueur du bÃ¢timent"
          aria-label="Longueur du bÃ¢timent"
        >
        <span class="control-value">{{ structure.dimensions.longueur }}</span>
      </div>
      
      <div class="control-group">
        <label>Largeur (m)</label>
        <input 
          type="range" 
          min="5" 
          max="50" 
          step="0.5" 
          [(ngModel)]="structure.dimensions.largeur"
          (input)="onStructureChange()"
          class="control-slider"
          title="Largeur du bÃ¢timent"
          aria-label="Largeur du bÃ¢timent"
        >
        <span class="control-value">{{ structure.dimensions.largeur }}</span>
      </div>
      
      <div class="control-group">
        <label>Hauteur (m)</label>
        <input 
          type="range" 
          min="2" 
          max="20" 
          step="0.5" 
          [(ngModel)]="structure.dimensions.hauteur"
          (input)="onStructureChange()"
          class="control-slider"
          title="Hauteur du bÃ¢timent"
          aria-label="Hauteur du bÃ¢timent"
        >
        <span class="control-value">{{ structure.dimensions.hauteur }}</span>
      </div>
    </div>
  </div>

  <!-- Couleur de base -->
  <div class="color-section">
    <h4>Couleur de base</h4>
    <div class="color-controls">
        <input 
          type="color" 
          [(ngModel)]="structure.couleur"
          (input)="onStructureChange()"
          class="color-input"
          title="Couleur de base du bÃ¢timent"
          aria-label="Couleur de base du bÃ¢timent"
        >
      <span class="color-value">{{ structure.couleur }}</span>
    </div>
  </div>

  <!-- MatÃ©riaux -->
  <div class="materials-section">
    <h4>MatÃ©riaux</h4>
    <div class="material-controls">
      <div class="control-group">
        <label>MatÃ©riau principal :</label>
        <select 
          [(ngModel)]="structure.materiauPrincipal"
          (change)="onStructureChange()"
          class="material-select"
          title="MatÃ©riau principal du bÃ¢timent"
          aria-label="MatÃ©riau principal du bÃ¢timent"
        >
          <option value="beton">BÃ©ton</option>
          <option value="brique">Brique</option>
          <option value="bois">Bois</option>
          <option value="metal">MÃ©tal</option>
          <option value="pierre">Pierre</option>
        </select>
      </div>
      
      <div class="control-group">
        <label>MatÃ©riau de toit :</label>
        <select 
          [(ngModel)]="structure.materiauToit"
          (change)="onStructureChange()"
          class="material-select"
          title="MatÃ©riau de toit du bÃ¢timent"
          aria-label="MatÃ©riau de toit du bÃ¢timent"
        >
          <option value="tuile">Tuile</option>
          <option value="ardoise">Ardoise</option>
          <option value="metal">MÃ©tal</option>
          <option value="beton">BÃ©ton</option>
        </select>
      </div>
    </div>
  </div>

  <!-- Statistiques -->
  <div class="stats-section">
    <h4>Statistiques</h4>
    <div class="stats-grid">
      <div class="stat-item">
        <span class="stat-label">Surface au sol :</span>
        <span class="stat-value">{{ getSurfaceSol() }} mÂ²</span>
      </div>
      
      <div class="stat-item">
        <span class="stat-label">Volume total :</span>
        <span class="stat-value">{{ getVolumeTotal() }} mÂ³</span>
      </div>
      
      <div class="stat-item">
        <span class="stat-label">Nombre de murs :</span>
        <span class="stat-value">{{ getNombreMurs() }}</span>
      </div>
      
      <div class="stat-item">
        <span class="stat-label">Nombre d'ouvertures :</span>
        <span class="stat-value">{{ getNombreOuvertures() }}</span>
      </div>
    </div>
  </div>

  <!-- Boutons d'action -->
  <div class="action-buttons">
    <button 
      type="button" 
      (click)="resetStructure()" 
      class="btn btn-secondary"
      title="RÃ©initialiser la structure"
    >
      ğŸ”„ RÃ©initialiser
    </button>
    
    <button 
      type="button" 
      (click)="exportStructure()" 
      class="btn btn-primary"
      title="Exporter la structure"
    >
      ğŸ“¤ Exporter
    </button>
  </div>
</div>
